{"version":3,"sources":["location_api.js","dom.js","weather.js","index.js"],"names":["LocationApi","fetch","then","response","status","json","Error","receivedIp","ip","location","city","Dom","loading","document","querySelector","style","cloudiness","weatherStatus","temp","humidity","wind","findCityButton","findCityInput","display","obj","innerText","value","Weather","cityName","weather","Math","round","main","clouds","all","description","name","speed","locationApi","dom","changeСity","showPreloader","getWeather","weatherInfo","hidePreloader","setInfoWeather","catch","error","alert","getMyIp","getMyLocation","addEventListener","e","keyCode"],"mappings":"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","file":"src.18da7f06.js","sourceRoot":"..\\src","sourcesContent":["/* eslint-disable class-methods-use-this */\nexport default class LocationApi {\n  getMyIp() {\n    return fetch('https://api.ipify.org?format=json')\n      .then(response => {\n        if (response.status === 200) {\n          return response.json();\n        }\n        throw new Error(response.status);\n      })\n      .then(receivedIp => receivedIp.ip);\n  }\n\n  getMyLocation(ip) {\n    return fetch(`https://ipapi.co/${ip}/json/`)\n      .then(response => {\n        if (response.status === 200) {\n          return response.json();\n        }\n        throw new Error(response.status);\n      })\n      .then(location => location.city);\n  }\n}\n","export default class Dom {\n  constructor() {\n    this.loading = document.querySelector('#loading').style;\n    this.city = document.querySelector('#city');\n    this.cloudiness = document.querySelector('#cloudiness');\n    this.weatherStatus = document.querySelector('#weather_status');\n    this.temp = document.querySelector('#temp');\n    this.humidity = document.querySelector('#humidity');\n    this.wind = document.querySelector('#wind');\n    this.findCityButton = document.querySelector('#find_city_button');\n    this.findCityInput = document.querySelector('#find_city_input');\n  }\n\n  showPreloader() {\n    this.loading.display = 'block';\n  }\n\n  hidePreloader() {\n    this.loading.display = 'none';\n  }\n\n  setInfoWeather(obj) {\n    this.city.innerText = obj.city;\n    this.cloudiness.innerText = `cloudiness: ${obj.cloudiness}%`;\n    this.weatherStatus.innerText = obj.weatherStatus;\n    this.temp.innerText = `${obj.temp}°C`;\n    this.humidity.innerText = `humidity: ${obj.humidity}%`;\n    this.wind.innerText = `wind speed: ${obj.wind} m/s`;\n  }\n\n  changeСity() {\n    return this.findCityInput.value;\n  }\n}\n","export default class Weather {\n  // eslint-disable-next-line class-methods-use-this\n  getWeather(cityName) {\n    return fetch(\n      `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=12c7488f70bcd015f75b9a10d559d91f`\n    )\n      .then(response => {\n        if (response.status === 200) {\n          return response.json();\n        }\n        throw new Error(response.status);\n      })\n      .then(weather => {\n        const obj = {\n          temp: Math.round(((weather.main.temp - 273.15) * 100) / 100),\n          cloudiness: weather.clouds.all,\n          weatherStatus: weather.weather[0].description,\n          city: weather.name,\n          wind: weather.wind.speed,\n          humidity: weather.main.humidity\n        };\n        return obj;\n      });\n  }\n}\n","import LocationApi from './location_api';\nimport Dom from './dom';\nimport Weather from './weather';\n\nconst locationApi = new LocationApi();\nconst dom = new Dom();\nconst weather = new Weather();\n\nfunction changeСity() {\n  dom.showPreloader();\n  weather\n    .getWeather(dom.changeСity())\n    .then(weatherInfo => {\n      dom.hidePreloader();\n      dom.setInfoWeather(weatherInfo);\n    })\n    .catch(error => {\n      alert(error);\n      dom.hidePreloader();\n    });\n}\n\ndom.showPreloader();\nlocationApi\n  .getMyIp()\n  .then(ip => locationApi.getMyLocation(ip))\n  .then(city => weather.getWeather(city))\n  .then(weatherInfo => {\n    dom.hidePreloader();\n    dom.setInfoWeather(weatherInfo);\n  })\n  .catch(error => {\n    alert(error);\n    dom.hidePreloader();\n  });\n\ndom.findCityInput.addEventListener('keydown', e => {\n  if (e.keyCode === 13) {\n    changeСity();\n  }\n});\n\ndom.findCityButton.addEventListener('click', () => changeСity());\n"]}